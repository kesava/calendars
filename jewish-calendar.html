<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Hebrew Calendar</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        @keyframes bounce {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }
        .float { animation: float 3s ease-in-out infinite; }
        .bounce { animation: bounce 1s ease-in-out infinite; }
        .fade-in { animation: fadeIn 0.5s ease-out forwards; }

        body {
            overflow-x: hidden;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // Metonic Cycle Visualization
        function MetonicCycleAnimation() {
            const [currentYear, setCurrentYear] = useState(0);
            const [isPlaying, setIsPlaying] = useState(true);

            // Years 3, 6, 8, 11, 14, 17, 19 have leap months
            const leapYears = [2, 5, 7, 10, 13, 16, 18]; // 0-indexed

            useEffect(() => {
                if (!isPlaying) return;
                const timer = setInterval(() => {
                    setCurrentYear((prev) => (prev + 1) % 19);
                }, 1000);
                return () => clearInterval(timer);
            }, [isPlaying]);

            const isLeapYear = leapYears.includes(currentYear);

            return (
                <div className="text-center">
                    <div className="relative w-full max-w-2xl mx-auto mb-6">
                        {/* Year grid */}
                        <div className="grid grid-cols-10 md:grid-cols-19 gap-1 mb-4" style={{ gridTemplateColumns: 'repeat(19, minmax(0, 1fr))' }}>
                            {Array.from({ length: 19 }).map((_, idx) => {
                                const isLeap = leapYears.includes(idx);
                                const isCurrent = idx === currentYear;

                                return (
                                    <div
                                        key={idx}
                                        className={`aspect-square rounded-lg transition-all duration-300 flex items-center justify-center text-xs font-semibold ${
                                            isCurrent
                                                ? isLeap
                                                    ? 'bg-gray-900 text-white scale-110 shadow-lg'
                                                    : 'bg-gray-700 text-white scale-110 shadow-lg'
                                                : isLeap
                                                    ? 'bg-gray-400 text-white'
                                                    : 'bg-gray-200 text-gray-600'
                                        }`}
                                    >
                                        {idx + 1}
                                    </div>
                                );
                            })}
                        </div>

                        {/* Legend */}
                        <div className="flex items-center justify-center gap-4 text-sm">
                            <div className="flex items-center gap-2">
                                <div className="w-4 h-4 bg-gray-900 rounded"></div>
                                <span className="text-gray-600">Leap Year</span>
                            </div>
                            <div className="flex items-center gap-2">
                                <div className="w-4 h-4 bg-gray-200 rounded"></div>
                                <span className="text-gray-600">Regular Year</span>
                            </div>
                        </div>
                    </div>

                    <div className="bg-gray-50 p-4 rounded-xl border border-gray-200 mb-3">
                        <div className="text-sm text-gray-600 mb-2">Current Year in Cycle:</div>
                        <div className="text-5xl font-semibold mb-2 text-gray-900">{currentYear + 1}</div>
                        <div className="text-lg font-semibold text-gray-900">
                            {isLeapYear ? 'üåï Leap Year (13 Months)' : 'üåô Regular Year (12 Months)'}
                        </div>
                        {isLeapYear && (
                            <div className="text-sm text-gray-600 mt-2">
                                Adar II is added this year!
                            </div>
                        )}
                    </div>

                    <div className="bg-gray-900 text-white p-4 rounded-xl mb-3">
                        <div className="text-sm mb-2">üìä The Pattern:</div>
                        <div className="text-base">7 leap years in every 19-year cycle</div>
                        <div className="text-xs mt-2 opacity-75">Always years 3, 6, 8, 11, 14, 17, and 19</div>
                    </div>

                    <button
                        onClick={() => setIsPlaying(!isPlaying)}
                        className="px-6 py-2 bg-gray-200 text-gray-700 rounded-full text-sm hover:bg-gray-300 transition-colors"
                    >
                        {isPlaying ? '‚è∏ Pause' : '‚ñ∂ Play'}
                    </button>
                </div>
            );
        }

        // Month Comparison
        function MonthComparison() {
            const hebrewMonths = [
                { name: 'Nisan', days: '30', season: 'Spring' },
                { name: 'Iyar', days: '29', season: 'Spring' },
                { name: 'Sivan', days: '30', season: 'Spring' },
                { name: 'Tammuz', days: '29', season: 'Summer' },
                { name: 'Av', days: '30', season: 'Summer' },
                { name: 'Elul', days: '29', season: 'Summer' },
                { name: 'Tishrei', days: '30', season: 'Fall' },
                { name: 'Cheshvan', days: '29/30*', season: 'Fall' },
                { name: 'Kislev', days: '29/30*', season: 'Fall' },
                { name: 'Tevet', days: '29', season: 'Winter' },
                { name: 'Shevat', days: '30', season: 'Winter' },
                { name: 'Adar', days: '29', season: 'Winter' },
            ];

            return (
                <div className="space-y-3">
                    {hebrewMonths.map((month, idx) => (
                        <div
                            key={idx}
                            className="bg-white rounded-lg p-4 border border-gray-200 flex items-center justify-between"
                        >
                            <div className="flex items-center gap-3">
                                <div className="text-2xl font-semibold text-gray-900 w-8">{idx + 1}</div>
                                <div>
                                    <div className="font-semibold text-gray-900">{month.name}</div>
                                    <div className="text-xs text-gray-500">{month.season}</div>
                                </div>
                            </div>
                            <div className="text-sm text-gray-600">{month.days} days</div>
                        </div>
                    ))}
                    <div className="bg-gray-900 text-white rounded-lg p-4">
                        <div className="font-semibold mb-1">üåü Leap Year Special:</div>
                        <div className="text-sm">
                            Adar II (30 days) is added after Adar I<br/>
                            <span className="text-xs opacity-75 mt-1 block">*Cheshvan and Kislev vary to keep calendar synchronized</span>
                        </div>
                    </div>
                </div>
            );
        }

        function HebrewCalendarApp() {
            const [screen, setScreen] = useState(0);

            const screens = [
                { title: "Welcome", icon: "üïé" },
                { title: "The System", icon: "üìÖ" },
                { title: "The 19-Year Cycle", icon: "üîÑ" },
                { title: "Comparison", icon: "‚öñÔ∏è" }
            ];

            return (
                <div className="min-h-screen bg-gray-50 p-4 md:p-8 overflow-x-hidden">
                    <div className="max-w-4xl mx-auto w-full">
                        {/* Progress Dots */}
                        <div className="flex justify-center gap-3 mb-8">
                            {screens.map((s, idx) => (
                                <button
                                    key={idx}
                                    onClick={() => setScreen(idx)}
                                    className={`transition-all duration-300 ${
                                        idx === screen
                                            ? 'w-12 h-12 rounded-full shadow-lg scale-110'
                                            : 'w-10 h-10 rounded-full shadow opacity-60 hover:opacity-100'
                                    } ${idx === screen ? 'bg-gray-800' : 'bg-gray-400'} flex items-center justify-center text-2xl`}
                                >
                                    {s.icon}
                                </button>
                            ))}
                        </div>

                        {/* Screen 0: Welcome */}
                        {screen === 0 && (
                            <div className="fade-in">
                                <div className="bg-white rounded-3xl shadow-lg p-6 md:p-12 text-center border border-gray-200">
                                    <div className="text-6xl md:text-8xl mb-6 float">üïé</div>
                                    <h1 className="text-3xl md:text-6xl font-semibold text-gray-900 mb-6">
                                        The Hebrew Calendar
                                    </h1>

                                    <div className="space-y-6 mt-8">
                                        <div className="bg-gray-50 p-6 md:p-8 rounded-2xl border border-gray-200">
                                            <p className="text-xl md:text-2xl font-semibold mb-4 text-gray-800">
                                                A Lunisolar System with a Fixed Pattern
                                            </p>
                                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                <div className="bg-white p-4 rounded-xl border border-gray-200">
                                                    <div className="text-4xl mb-2">üåô</div>
                                                    <div className="font-semibold text-lg text-gray-800">Lunar Months</div>
                                                    <div className="text-sm text-gray-600">Follows the Moon</div>
                                                    <div className="text-2xl font-semibold text-gray-700 mt-2">29-30 days</div>
                                                </div>
                                                <div className="bg-white p-4 rounded-xl border border-gray-200">
                                                    <div className="text-4xl mb-2">‚òÄÔ∏è</div>
                                                    <div className="font-semibold text-lg text-gray-800">Solar Alignment</div>
                                                    <div className="text-sm text-gray-600">Stays with Seasons</div>
                                                    <div className="text-2xl font-semibold text-gray-700 mt-2">~365 days/year</div>
                                                </div>
                                            </div>
                                        </div>

                                        <div className="bg-gray-50 p-6 md:p-8 rounded-2xl border border-gray-200">
                                            <div className="text-5xl mb-4 bounce">üî¢</div>
                                            <p className="text-xl md:text-2xl font-semibold text-gray-800">
                                                The Same Challenge
                                            </p>
                                            <p className="text-base md:text-lg text-gray-700 mt-3">
                                                12 lunar months = <span className="text-gray-900 font-medium">354 days</span>
                                                <br/>
                                                1 solar year = <span className="text-gray-900 font-medium">365 days</span>
                                                <br/>
                                                <span className="text-gray-900 text-xl font-medium">Missing 11 days!</span>
                                            </p>
                                        </div>

                                        <button
                                            onClick={() => setScreen(1)}
                                            className="px-8 md:px-12 py-4 md:py-5 rounded-full text-xl md:text-2xl font-semibold bg-gray-900 text-white shadow-lg hover:bg-gray-800 hover:scale-105 transition-all transform"
                                        >
                                            See The Solution! ‚Üí
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Screen 1: The System */}
                        {screen === 1 && (
                            <div className="fade-in">
                                <div className="bg-white rounded-3xl shadow-lg p-4 md:p-8 border border-gray-200">
                                    <h2 className="text-3xl md:text-4xl font-semibold text-gray-900 mb-6 text-center">
                                        üìÖ The Hebrew Calendar System
                                    </h2>

                                    <div className="bg-gray-50 p-4 md:p-8 rounded-2xl mb-6 border border-gray-200">
                                        <h3 className="text-xl md:text-2xl font-semibold text-gray-900 mb-4 text-center">
                                            12 Regular Months
                                        </h3>
                                        <MonthComparison />
                                    </div>

                                    <div className="bg-gray-50 p-4 md:p-8 rounded-2xl mb-6 border border-gray-200">
                                        <h3 className="text-xl md:text-2xl font-semibold text-gray-900 mb-4 text-center">
                                            The Solution: Add a 13th Month
                                        </h3>

                                        <div className="space-y-4">
                                            <div className="bg-white rounded-xl p-4 md:p-6 border border-gray-200">
                                                <div className="text-center mb-4">
                                                    <div className="text-5xl mb-3">üìÖ</div>
                                                    <p className="text-lg md:text-xl font-semibold text-gray-900">
                                                        Adar II (Adar Sheni)
                                                    </p>
                                                </div>
                                                <p className="text-sm md:text-base text-gray-600 text-center">
                                                    In leap years, an extra month called <span className="text-gray-900 font-medium">Adar II</span> is added.
                                                    <br/>
                                                    The original Adar becomes <span className="text-gray-900 font-medium">Adar I</span>, and Adar II (30 days) follows it.
                                                </p>
                                            </div>

                                            <div className="bg-gray-900 text-white rounded-xl p-4 md:p-6">
                                                <h4 className="text-lg font-semibold mb-3 text-center">
                                                    üéØ Key Difference from Hindu Calendar
                                                </h4>
                                                <div className="space-y-2 text-sm">
                                                    <p>‚Ä¢ <span className="font-medium">Hebrew:</span> Uses a <span className="font-medium">pre-calculated pattern</span> - leap years are determined mathematically centuries in advance</p>
                                                    <p>‚Ä¢ <span className="font-medium">Hindu:</span> Uses <span className="font-medium">astronomical observation</span> - each extra month is determined by the Sun's position (Sankranti rule)</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="flex flex-col sm:flex-row gap-3 md:gap-4">
                                        <button
                                            onClick={() => setScreen(0)}
                                            className="flex-1 px-6 md:px-8 py-3 md:py-4 bg-gray-200 text-gray-700 rounded-full font-semibold text-lg md:text-xl hover:bg-gray-300"
                                        >
                                            ‚Üê Back
                                        </button>
                                        <button
                                            onClick={() => setScreen(2)}
                                            className="flex-1 px-6 md:px-8 py-3 md:py-4 bg-gray-900 text-white rounded-full font-semibold text-lg md:text-xl shadow-lg hover:bg-gray-800 hover:scale-105 transition-all"
                                        >
                                            The 19-Year Cycle ‚Üí
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Screen 2: The 19-Year Cycle */}
                        {screen === 2 && (
                            <div className="fade-in">
                                <div className="bg-white rounded-3xl shadow-lg p-4 md:p-8 border border-gray-200">
                                    <h2 className="text-3xl md:text-4xl font-semibold text-gray-900 mb-6 text-center">
                                        üîÑ The Metonic Cycle
                                    </h2>

                                    <div className="bg-gray-50 p-4 md:p-8 rounded-2xl mb-6 border border-gray-200">
                                        <h3 className="text-xl md:text-2xl font-semibold text-gray-900 mb-4 text-center">
                                            A Fixed 19-Year Pattern
                                        </h3>
                                        <MetonicCycleAnimation />
                                    </div>

                                    <div className="bg-gray-50 p-4 md:p-8 rounded-2xl mb-6 border border-gray-200">
                                        <h3 className="text-xl md:text-2xl font-semibold text-gray-900 mb-4 text-center">
                                            Why 19 Years?
                                        </h3>

                                        <div className="space-y-4">
                                            <div className="bg-white rounded-xl p-4 md:p-6 border border-gray-200">
                                                <p className="text-sm md:text-base text-gray-600 mb-3">
                                                    The ancient Greeks discovered that <span className="text-gray-900 font-medium">235 lunar months</span> equals almost exactly <span className="text-gray-900 font-medium">19 solar years</span>:
                                                </p>
                                                <div className="bg-gray-50 p-4 rounded-lg border border-gray-200 space-y-2 text-sm text-gray-600">
                                                    <p>‚Ä¢ 19 solar years = 19 √ó 365.25 = <span className="text-gray-900 font-medium">6,939.75 days</span></p>
                                                    <p>‚Ä¢ 235 lunar months = 235 √ó 29.53 = <span className="text-gray-900 font-medium">6,939.55 days</span></p>
                                                    <p className="text-gray-900 font-medium">Difference: Only 0.2 days over 19 years!</p>
                                                </div>
                                            </div>

                                            <div className="bg-white rounded-xl p-4 md:p-6 border border-gray-200">
                                                <p className="font-semibold text-gray-900 mb-3">üìä The Math:</p>
                                                <div className="space-y-2 text-sm text-gray-600">
                                                    <p>‚Ä¢ 12 regular years √ó 12 months = 144 months</p>
                                                    <p>‚Ä¢ 7 leap years √ó 13 months = 91 months</p>
                                                    <p>‚Ä¢ Total: 144 + 91 = <span className="text-gray-900 font-medium">235 months</span></p>
                                                </div>
                                            </div>

                                            <div className="bg-gray-900 text-white rounded-xl p-4 md:p-6">
                                                <p className="text-center font-semibold mb-2">
                                                    üéØ The Pattern Never Changes
                                                </p>
                                                <p className="text-sm text-center opacity-90">
                                                    Every cycle of 19 years, leap months are added in years 3, 6, 8, 11, 14, 17, and 19.
                                                    This pattern has been used for over 1,600 years!
                                                </p>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="flex flex-col sm:flex-row gap-3 md:gap-4">
                                        <button
                                            onClick={() => setScreen(1)}
                                            className="flex-1 px-6 md:px-8 py-3 md:py-4 bg-gray-200 text-gray-700 rounded-full font-semibold text-lg md:text-xl hover:bg-gray-300"
                                        >
                                            ‚Üê Back
                                        </button>
                                        <button
                                            onClick={() => setScreen(3)}
                                            className="flex-1 px-6 md:px-8 py-3 md:py-4 bg-gray-900 text-white rounded-full font-semibold text-lg md:text-xl shadow-lg hover:bg-gray-800 hover:scale-105 transition-all"
                                        >
                                            See Comparison ‚Üí
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}

                        {/* Screen 3: Comparison */}
                        {screen === 3 && (
                            <div className="fade-in">
                                <div className="bg-white rounded-3xl shadow-lg p-4 md:p-8 border border-gray-200">
                                    <h2 className="text-3xl md:text-4xl font-semibold text-gray-900 mb-6 text-center">
                                        ‚öñÔ∏è Hebrew vs Hindu Calendar
                                    </h2>

                                    <div className="space-y-6">
                                        <div className="bg-gray-50 p-4 md:p-6 rounded-2xl border border-gray-200">
                                            <h3 className="text-xl md:text-2xl font-semibold text-gray-900 mb-4 text-center">
                                                Similarities
                                            </h3>
                                            <div className="space-y-3">
                                                <div className="bg-white rounded-lg p-4 border border-gray-200">
                                                    <p className="font-semibold text-gray-800">‚úì Both are Lunisolar</p>
                                                    <p className="text-sm text-gray-600">Months follow the Moon, years follow the Sun</p>
                                                </div>
                                                <div className="bg-white rounded-lg p-4 border border-gray-200">
                                                    <p className="font-semibold text-gray-800">‚úì Both add extra months</p>
                                                    <p className="text-sm text-gray-600">To keep aligned with solar year</p>
                                                </div>
                                                <div className="bg-white rounded-lg p-4 border border-gray-200">
                                                    <p className="font-semibold text-gray-800">‚úì Both average ~7 extra months per 19 years</p>
                                                    <p className="text-sm text-gray-600">Based on the same astronomical mathematics</p>
                                                </div>
                                            </div>
                                        </div>

                                        <div className="bg-gray-50 p-4 md:p-6 rounded-2xl border border-gray-200">
                                            <h3 className="text-xl md:text-2xl font-semibold text-gray-900 mb-4 text-center">
                                                Key Differences
                                            </h3>
                                            <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                <div className="bg-white rounded-xl p-4 border-l-4 border-gray-500">
                                                    <div className="text-3xl mb-2">üïé</div>
                                                    <p className="font-semibold text-gray-900 mb-2">Hebrew Calendar</p>
                                                    <div className="space-y-1 text-sm text-gray-600">
                                                        <p>‚Ä¢ <span className="font-medium text-gray-800">Fixed pattern:</span> Same 19-year cycle repeats</p>
                                                        <p>‚Ä¢ <span className="font-medium text-gray-800">Pre-calculated:</span> Dates known centuries ahead</p>
                                                        <p>‚Ä¢ <span className="font-medium text-gray-800">Mathematical:</span> No observation needed</p>
                                                        <p>‚Ä¢ <span className="font-medium text-gray-800">Consistent:</span> Same leap years every cycle</p>
                                                    </div>
                                                </div>
                                                <div className="bg-white rounded-xl p-4 border-l-4 border-gray-500">
                                                    <div className="text-3xl mb-2">üïâÔ∏è</div>
                                                    <p className="font-semibold text-gray-900 mb-2">Hindu Calendar</p>
                                                    <div className="space-y-1 text-sm text-gray-600">
                                                        <p>‚Ä¢ <span className="font-medium text-gray-800">Astronomical:</span> Based on Sun-Moon positions</p>
                                                        <p>‚Ä¢ <span className="font-medium text-gray-800">Sankranti rule:</span> Month with no solar transit</p>
                                                        <p>‚Ä¢ <span className="font-medium text-gray-800">Variable:</span> Leap months in different years</p>
                                                        <p>‚Ä¢ <span className="font-medium text-gray-800">Also has Kshaya Masa:</span> Rare skipped months</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div className="bg-gray-900 text-white rounded-xl p-4 md:p-6">
                                            <h3 className="text-xl md:text-2xl font-semibold mb-3 text-center">
                                                üåç Two Different Paths to the Same Goal
                                            </h3>
                                            <p className="text-sm md:text-base text-center opacity-90">
                                                Both calendars solve the lunar-solar mismatch brilliantly, but use different philosophies:
                                                Hebrew favors <span className="font-medium">mathematical predictability</span>,
                                                Hindu favors <span className="font-medium">astronomical precision</span>.
                                            </p>
                                        </div>

                                        <div className="bg-gray-50 p-4 md:p-6 rounded-2xl border border-gray-200">
                                            <h3 className="text-xl md:text-2xl font-semibold text-gray-900 mb-4 text-center">
                                                üéâ Fun Facts
                                            </h3>
                                            <div className="space-y-3">
                                                <div className="bg-white rounded-lg p-4 border border-gray-200">
                                                    <p className="font-medium text-gray-800">üìú Ancient Origins</p>
                                                    <p className="text-sm text-gray-600">The fixed Hebrew calendar was formalized by Hillel II in 358 CE</p>
                                                </div>
                                                <div className="bg-white rounded-lg p-4 border border-gray-200">
                                                    <p className="font-medium text-gray-800">üî¢ Year Numbering</p>
                                                    <p className="text-sm text-gray-600">Hebrew calendar year 5785 = Gregorian 2024/2025</p>
                                                </div>
                                                <div className="bg-white rounded-lg p-4 border border-gray-200">
                                                    <p className="font-medium text-gray-800">üåü Accuracy</p>
                                                    <p className="text-sm text-gray-600">Drifts only ~1 day per 231 years compared to solar year</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div className="flex flex-col sm:flex-row gap-3 md:gap-4">
                                        <button
                                            onClick={() => setScreen(2)}
                                            className="flex-1 px-6 md:px-8 py-3 md:py-4 bg-gray-200 text-gray-700 rounded-full font-semibold text-lg md:text-xl hover:bg-gray-300"
                                        >
                                            ‚Üê Back
                                        </button>
                                        <button
                                            onClick={() => setScreen(0)}
                                            className="flex-1 px-6 md:px-8 py-3 md:py-4 bg-gray-900 text-white rounded-full font-semibold text-lg md:text-xl shadow-lg hover:bg-gray-800 hover:scale-105 transition-all"
                                        >
                                            üîÑ Start Over
                                        </button>
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<HebrewCalendarApp />);
    </script>
</body>
</html>
