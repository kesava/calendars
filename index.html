<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Primary Meta Tags -->
    <title>Calendar Systems Explorer - Interactive Educational Visualizations</title>
    <meta name="title" content="Calendar Systems Explorer - Interactive Educational Visualizations">
    <meta name="description" content="Interactive educational visualizations exploring calendar systems around the world. Learn about Gregorian, Hindu, Hebrew, and Islamic calendars through engaging animations.">
    <meta name="keywords" content="calendar, leap year, gregorian, hindu, hebrew, islamic, astronomy, education, interactive, visualization">
    <meta name="author" content="Calendar Systems Explorer">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kesava.github.io/calendars/">
    <meta property="og:title" content="Calendar Systems Explorer">
    <meta property="og:description" content="Interactive educational visualizations exploring how different cultures track time">
    <meta property="og:image" content="https://kesava.github.io/calendars/preview.png">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://kesava.github.io/calendars/">
    <meta property="twitter:title" content="Calendar Systems Explorer">
    <meta property="twitter:description" content="Interactive educational visualizations exploring how different cultures track time">
    <meta property="twitter:image" content="https://kesava.github.io/calendars/preview.png">

    <!-- Theme Color -->
    <meta name="theme-color" content="#8B5CF6">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://kesava.github.io/calendars/">

    <!-- Preload Critical Resources -->
    <link rel="preload" href="shared-styles.css" as="style">
    <link rel="preload" href="shared-utils.js" as="script">

    <!-- Styles -->
    <link rel="stylesheet" href="shared-styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class'
        }
    </script>
    <style>
        .card {
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        .search-highlight {
            background-color: #fef08a;
            padding: 2px 4px;
            border-radius: 4px;
        }

        .dark .search-highlight {
            background-color: #854d0e;
            color: #fef08a;
        }

        .comparison-table {
            border-collapse: collapse;
            width: 100%;
        }

        .comparison-table th,
        .comparison-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .comparison-table th {
            font-weight: 600;
            background: var(--bg-tertiary);
        }

        .comparison-table tr:hover {
            background: var(--bg-secondary);
        }
    </style>
</head>
<body>
    <!-- Skip Link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <!-- Settings Toggle Button -->
    <button
        id="settings-toggle"
        class="settings-toggle no-print"
        aria-label="Open settings"
    >
        ‚öôÔ∏è
    </button>

    <!-- Settings Overlay -->
    <div id="settings-overlay" class="settings-overlay no-print"></div>

    <!-- Settings Panel -->
    <div id="settings-panel" class="settings-panel no-print">
        <div class="flex justify-between items-center mb-4">
            <h2 class="settings-header" style="margin-bottom: 0;">‚öôÔ∏è Settings</h2>
            <button id="settings-close" class="text-3xl leading-none text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white" aria-label="Close settings">√ó</button>
        </div>

        <!-- Theme Section -->
        <div class="settings-section">
            <label class="settings-label">Theme</label>
            <div class="settings-control">
                <button id="theme-light" class="settings-button">‚òÄÔ∏è Light</button>
                <button id="theme-dark" class="settings-button">üåô Dark</button>
            </div>
        </div>

        <!-- Font Size Section -->
        <div class="settings-section">
            <label class="settings-label">Font Size</label>
            <div class="settings-control">
                <button id="font-decrease-btn" class="settings-button">A-</button>
                <span id="font-size-display-panel" style="font-weight: 600; color: #8B5CF6;">100%</span>
                <button id="font-increase-btn" class="settings-button">A+</button>
            </div>
            <div class="settings-info">Adjust text size (80% - 150%)</div>
        </div>

        <!-- Animations Section -->
        <div class="settings-section">
            <label class="settings-label">Animations</label>
            <div class="settings-control">
                <button id="animations-on" class="settings-button">‚ñ∂Ô∏è On</button>
                <button id="animations-off" class="settings-button">‚è∏Ô∏è Off</button>
            </div>
        </div>

        <!-- Share Section -->
        <div class="settings-section">
            <label class="settings-label">Share</label>
            <button id="share-button-panel" class="settings-button" style="width: 100%;">üì§ Share This Page</button>
        </div>
    </div>

    <!-- Main Content -->
    <main id="main-content" class="min-h-screen p-4 md:p-8">
        <div class="max-w-6xl mx-auto">
            <!-- Header -->
            <header class="text-center mb-12 fade-in">
                <div class="text-6xl md:text-8xl mb-6 float" role="img" aria-label="Earth globe">üåç</div>
                <h1 class="text-4xl md:text-6xl font-semibold text-gray-900 dark:text-white mb-4">
                    Calendar Systems Explorer
                </h1>
                <p class="text-lg md:text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto">
                    Explore how different cultures and religions track time through interactive visualizations
                </p>
            </header>

            <!-- Search & Filter -->
            <div class="mb-8 fade-in" style="animation-delay: 0.1s">
                <div class="relative max-w-md mx-auto">
                    <input
                        type="search"
                        id="calendar-search"
                        placeholder="Search calendars (e.g., lunar, solar, Hebrew)..."
                        class="w-full px-4 py-3 pl-10 rounded-full border-2 border-gray-300 dark:border-gray-600 focus:border-purple-500 dark:focus:border-purple-400 focus:outline-none bg-white dark:bg-gray-800 text-gray-900 dark:text-white transition-colors"
                        aria-label="Search calendars"
                    />
                    <svg class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                    </svg>
                </div>
            </div>

            <!-- Calendar Cards Grid -->
            <div id="calendar-grid" class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-12">
                <!-- Hindu Calendar -->
                <article class="calendar-card card bg-white dark:bg-gray-800 rounded-2xl p-6 md:p-8 border border-gray-200 dark:border-gray-700 fade-in" style="animation-delay: 0.1s" data-keywords="hindu lunisolar astronomical adhik maas kshaya masa sankranti indian">
                    <a href="hindu-calendar.html" class="block">
                        <div class="text-5xl mb-4" role="img" aria-label="Om symbol">üïâÔ∏è</div>
                        <h2 class="text-2xl md:text-3xl font-semibold text-gray-900 dark:text-white mb-3">
                            The Hindu Calendar
                        </h2>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            A lunisolar calendar using astronomical observation. Learn about Adhik Maas (extra months) and the rare Kshaya Masa (skipped months).
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="badge badge-info">Lunisolar</span>
                            <span class="badge badge-info">Astronomical</span>
                            <span class="badge badge-info">Sankranti</span>
                        </div>
                        <div class="text-gray-900 dark:text-white font-medium flex items-center gap-2">
                            Explore Interactive Guide
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                            </svg>
                        </div>
                    </a>
                </article>

                <!-- Hebrew Calendar -->
                <article class="calendar-card card bg-white dark:bg-gray-800 rounded-2xl p-6 md:p-8 border border-gray-200 dark:border-gray-700 fade-in" style="animation-delay: 0.2s" data-keywords="hebrew jewish lunisolar metonic cycle adar fixed pattern">
                    <a href="jewish-calendar.html" class="block">
                        <div class="text-5xl mb-4" role="img" aria-label="Menorah">üïé</div>
                        <h2 class="text-2xl md:text-3xl font-semibold text-gray-900 dark:text-white mb-3">
                            The Hebrew Calendar
                        </h2>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            A lunisolar calendar with a fixed 19-year cycle (Metonic cycle). Discover how Adar II keeps the calendar synchronized with seasons.
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="badge badge-info">Lunisolar</span>
                            <span class="badge badge-info">Fixed Cycle</span>
                            <span class="badge badge-info">19 Years</span>
                        </div>
                        <div class="text-gray-900 dark:text-white font-medium flex items-center gap-2">
                            Explore Interactive Guide
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                            </svg>
                        </div>
                    </a>
                </article>

                <!-- Islamic Calendar -->
                <article class="calendar-card card bg-white dark:bg-gray-800 rounded-2xl p-6 md:p-8 border border-gray-200 dark:border-gray-700 fade-in" style="animation-delay: 0.3s" data-keywords="islamic hijri lunar ramadan drift seasonal muslim">
                    <a href="islamic-calendar.html" class="block">
                        <div class="text-5xl mb-4" role="img" aria-label="Star and crescent">‚ò™Ô∏è</div>
                        <h2 class="text-2xl md:text-3xl font-semibold text-gray-900 dark:text-white mb-3">
                            The Islamic Calendar
                        </h2>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            A purely lunar calendar that drifts through all seasons. Watch Ramadan cycle through winter, spring, summer, and fall over 33 years.
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="badge badge-info">Purely Lunar</span>
                            <span class="badge badge-info">Seasonal Drift</span>
                            <span class="badge badge-info">30-Year Cycle</span>
                        </div>
                        <div class="text-gray-900 dark:text-white font-medium flex items-center gap-2">
                            Explore Interactive Guide
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                            </svg>
                        </div>
                    </a>
                </article>

                <!-- Gregorian Calendar -->
                <article class="calendar-card card bg-white dark:bg-gray-800 rounded-2xl p-6 md:p-8 border border-gray-200 dark:border-gray-700 fade-in" style="animation-delay: 0.4s" data-keywords="gregorian solar leap year julian easter western christian">
                    <a href="gregorian-calendar.html" class="block">
                        <div class="text-5xl mb-4" role="img" aria-label="Earth globe">üåç</div>
                        <h2 class="text-2xl md:text-3xl font-semibold text-gray-900 dark:text-white mb-3">
                            The Gregorian Calendar
                        </h2>
                        <p class="text-gray-600 dark:text-gray-300 mb-4">
                            The world's most widely used solar calendar. Understand leap year rules, the Julian-Gregorian split, and the complex Easter calculation.
                        </p>
                        <div class="flex flex-wrap gap-2 mb-4">
                            <span class="badge badge-info">Solar</span>
                            <span class="badge badge-info">Leap Years</span>
                            <span class="badge badge-info">Easter</span>
                        </div>
                        <div class="text-gray-900 dark:text-white font-medium flex items-center gap-2">
                            Explore Interactive Guide
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                            </svg>
                        </div>
                    </a>
                </article>
            </div>

            <!-- No Results Message -->
            <div id="no-results" class="hidden text-center py-12">
                <div class="text-6xl mb-4" role="img" aria-label="Magnifying glass">üîç</div>
                <h3 class="text-2xl font-semibold text-gray-900 dark:text-white mb-2">No calendars found</h3>
                <p class="text-gray-600 dark:text-gray-300">Try searching for "lunar", "solar", or a specific calendar name</p>
            </div>

            <!-- Bonus Section -->
            <aside class="bg-white dark:bg-gray-800 rounded-2xl p-6 md:p-8 border border-gray-200 dark:border-gray-700 fade-in" style="animation-delay: 0.5s">
                <div class="flex items-start gap-4">
                    <div class="text-4xl" role="img" aria-label="Chart">üìä</div>
                    <div class="flex-1">
                        <h3 class="text-xl md:text-2xl font-semibold text-gray-900 dark:text-white mb-2">
                            Bonus: Leap Year Explained (For Kids!)
                        </h3>
                        <p class="text-gray-600 dark:text-gray-300 mb-3">
                            A simplified interactive visualization showing why we need leap years and how seasons would drift without them. Perfect for children!
                        </p>
                        <a href="leap-year.html" class="inline-flex items-center gap-2 text-gray-900 dark:text-white font-medium hover:gap-3 transition-all">
                            View Leap Year Demo
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
                            </svg>
                        </a>
                    </div>
                </div>
            </aside>

            <!-- Detailed Comparison Table -->
            <section class="mt-12 bg-white dark:bg-gray-800 rounded-2xl p-6 md:p-8 border border-gray-200 dark:border-gray-700 fade-in" style="animation-delay: 0.6s">
                <h3 class="text-2xl md:text-3xl font-semibold mb-6 text-center text-gray-900 dark:text-white">
                    üìä Detailed Comparison
                </h3>
                <div class="overflow-x-auto">
                    <table class="comparison-table">
                        <thead>
                            <tr>
                                <th>Calendar</th>
                                <th>Type</th>
                                <th>Leap System</th>
                                <th>Accuracy</th>
                                <th>Year Length</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Gregorian</strong></td>
                                <td>Solar</td>
                                <td>Every 4 years (except 100, unless 400)</td>
                                <td>1 day per 3,236 years</td>
                                <td>365.2425 days</td>
                            </tr>
                            <tr>
                                <td><strong>Hindu</strong></td>
                                <td>Lunisolar</td>
                                <td>Adhik Maas (astronomical observation)</td>
                                <td>1 day per 70,000 years</td>
                                <td>~354 days (12-13 months)</td>
                            </tr>
                            <tr>
                                <td><strong>Hebrew</strong></td>
                                <td>Lunisolar</td>
                                <td>19-year cycle (7 leap years)</td>
                                <td>1 day per 231 years</td>
                                <td>~354 days (12-13 months)</td>
                            </tr>
                            <tr>
                                <td><strong>Islamic</strong></td>
                                <td>Purely Lunar</td>
                                <td>30-year cycle (11 leap days)</td>
                                <td>Intentional drift</td>
                                <td>354-355 days</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- Quick Comparison Cards -->
            <section class="mt-12 bg-gray-900 text-white rounded-2xl p-6 md:p-8 fade-in" style="animation-delay: 0.7s">
                <h3 class="text-2xl md:text-3xl font-semibold mb-6 text-center">
                    üåç Three Approaches to Time
                </h3>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                    <div class="bg-white bg-opacity-10 rounded-xl p-4 hover:bg-opacity-20 transition-all">
                        <div class="text-3xl mb-2" role="img" aria-label="Om symbol">üïâÔ∏è</div>
                        <p class="font-semibold mb-2">Hindu</p>
                        <p class="text-sm opacity-90">Astronomical rules determine when to add/skip months based on Sun's position</p>
                    </div>
                    <div class="bg-white bg-opacity-10 rounded-xl p-4 hover:bg-opacity-20 transition-all">
                        <div class="text-3xl mb-2" role="img" aria-label="Menorah">üïé</div>
                        <p class="font-semibold mb-2">Hebrew</p>
                        <p class="text-sm opacity-90">Fixed 19-year pattern repeats - predictable centuries in advance</p>
                    </div>
                    <div class="bg-white bg-opacity-10 rounded-xl p-4 hover:bg-opacity-20 transition-all">
                        <div class="text-3xl mb-2" role="img" aria-label="Star and crescent">‚ò™Ô∏è</div>
                        <p class="font-semibold mb-2">Islamic</p>
                        <p class="text-sm opacity-90">Pure lunar - intentionally drifts through all seasons every 33 years</p>
                    </div>
                    <div class="bg-white bg-opacity-10 rounded-xl p-4 hover:bg-opacity-20 transition-all">
                        <div class="text-3xl mb-2" role="img" aria-label="Earth globe">üåç</div>
                        <p class="font-semibold mb-2">Gregorian</p>
                        <p class="text-sm opacity-90">Solar with complex leap rules - accurate to 1 day per 3,236 years</p>
                    </div>
                </div>
            </section>

            <!-- Footer -->
            <footer class="mt-12 text-center text-gray-500 dark:text-gray-400 text-sm fade-in" style="animation-delay: 0.8s">
                <p class="mb-2">Interactive educational visualizations exploring calendar systems around the world</p>
                <p class="mb-2">Each page features animations and explanations to help understand these fascinating systems</p>
                <p class="text-xs mt-4">Last updated: <time datetime="2026-01-18">January 2026</time></p>
            </footer>
        </div>
    </main>

    <!-- Scripts -->
    <script src="shared-utils.js"></script>
    <script src="accessibility.js"></script>
    <script>
        // Settings Panel Controls
        const settingsToggle = document.getElementById('settings-toggle');
        const settingsPanel = document.getElementById('settings-panel');
        const settingsOverlay = document.getElementById('settings-overlay');

        // Toggle panel
        settingsToggle.addEventListener('click', () => {
            settingsPanel.classList.toggle('open');
            settingsOverlay.classList.toggle('open');
            settingsToggle.style.display = 'none';
            soundManager.play('click');
        });

        // Close panel when clicking overlay
        settingsOverlay.addEventListener('click', () => {
            settingsPanel.classList.remove('open');
            settingsOverlay.classList.remove('open');
            settingsToggle.style.display = '';
        });

        // Close panel when clicking close button
        const settingsClose = document.getElementById('settings-close');
        settingsClose.addEventListener('click', () => {
            settingsPanel.classList.remove('open');
            settingsOverlay.classList.remove('open');
            settingsToggle.style.display = '';
        });

        // Theme controls
        const themeLightBtn = document.getElementById('theme-light');
        const themeDarkBtn = document.getElementById('theme-dark');

        function updateThemeButtons() {
            if (themeManager.isDark) {
                themeLightBtn.classList.remove('active');
                themeDarkBtn.classList.add('active');
            } else {
                themeLightBtn.classList.add('active');
                themeDarkBtn.classList.remove('active');
            }
        }

        updateThemeButtons();

        themeLightBtn.addEventListener('click', () => {
            if (themeManager.isDark) {
                themeManager.toggle();
                updateThemeButtons();
                screenReader.announce('Light mode enabled');
                soundManager.play('click');
            }
        });

        themeDarkBtn.addEventListener('click', () => {
            if (!themeManager.isDark) {
                themeManager.toggle();
                updateThemeButtons();
                screenReader.announce('Dark mode enabled');
                soundManager.play('click');
            }
        });

        // Font size controls
        const fontDecreaseBtn = document.getElementById('font-decrease-btn');
        const fontIncreaseBtn = document.getElementById('font-increase-btn');
        const fontSizeDisplayPanel = document.getElementById('font-size-display-panel');

        function updateFontDisplay() {
            fontSizeDisplayPanel.textContent = `${fontSizeController.size}%`;
        }

        updateFontDisplay();

        fontDecreaseBtn.addEventListener('click', () => {
            fontSizeController.decrease();
            updateFontDisplay();
            screenReader.announce(`Font size decreased to ${fontSizeController.size}%`);
            soundManager.play('click');
        });

        fontIncreaseBtn.addEventListener('click', () => {
            fontSizeController.increase();
            updateFontDisplay();
            screenReader.announce(`Font size increased to ${fontSizeController.size}%`);
            soundManager.play('click');
        });

        // Animation controls
        const animationsOnBtn = document.getElementById('animations-on');
        const animationsOffBtn = document.getElementById('animations-off');

        function updateAnimationButtons() {
            if (animationController.enabled) {
                animationsOnBtn.classList.add('active');
                animationsOffBtn.classList.remove('active');
            } else {
                animationsOnBtn.classList.remove('active');
                animationsOffBtn.classList.add('active');
            }
        }

        updateAnimationButtons();

        animationsOnBtn.addEventListener('click', () => {
            if (!animationController.enabled) {
                animationController.toggle();
                updateAnimationButtons();
                screenReader.announce('Animations enabled');
                soundManager.play('click');
            }
        });

        animationsOffBtn.addEventListener('click', () => {
            if (animationController.enabled) {
                animationController.toggle();
                updateAnimationButtons();
                screenReader.announce('Animations disabled');
                soundManager.play('click');
            }
        });

        // Share button
        document.getElementById('share-button-panel').addEventListener('click', async () => {
            const success = await shareContent(
                'Calendar Systems Explorer',
                'Check out these interactive calendar explanations!',
                window.location.href
            );
            if (success) {
                soundManager.play('success');
            }
        });

        // Search functionality
        const searchInput = document.getElementById('calendar-search');
        const calendarCards = document.querySelectorAll('.calendar-card');
        const noResults = document.getElementById('no-results');
        const calendarGrid = document.getElementById('calendar-grid');

        searchInput.addEventListener('input', debounce((e) => {
            const searchTerm = e.target.value.toLowerCase().trim();
            let visibleCount = 0;

            calendarCards.forEach(card => {
                const keywords = card.dataset.keywords.toLowerCase();
                const title = card.querySelector('h2').textContent.toLowerCase();
                const description = card.querySelector('p').textContent.toLowerCase();

                const matches = searchTerm === '' ||
                               keywords.includes(searchTerm) ||
                               title.includes(searchTerm) ||
                               description.includes(searchTerm);

                if (matches) {
                    card.style.display = '';
                    visibleCount++;
                } else {
                    card.style.display = 'none';
                }
            });

            if (visibleCount === 0) {
                calendarGrid.style.display = 'none';
                noResults.classList.remove('hidden');
                screenReader.announce('No calendars found matching your search');
            } else {
                calendarGrid.style.display = '';
                noResults.classList.add('hidden');
                screenReader.announce(`${visibleCount} calendar${visibleCount !== 1 ? 's' : ''} found`);
            }
        }, 300));

        // Initialize sound manager
        soundManager.init();
    </script>
</body>
</html>
